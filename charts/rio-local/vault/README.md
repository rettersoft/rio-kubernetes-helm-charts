# vault

![Version: 0.1.0](https://img.shields.io/badge/Version-0.1.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.0](https://img.shields.io/badge/AppVersion-1.0-informational?style=flat-square)

A Helm chart for managing loki

## Requirements

| Repository | Name | Version |
|------------|------|---------|
| https://helm.releases.hashicorp.com | vault | 0.28.1 |
| https://helm.releases.hashicorp.com | vault-secrets-operator | 0.3.4 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| vault.csi.enabled | bool | `false` |  |
| vault.injector.enabled | bool | `false` |  |
| vault.server.dataStorage.enabled | bool | `true` |  |
| vault.server.dataStorage.storageClass | string | `"csi-disk"` |  |
| vault.server.dev.enabled | bool | `false` |  |
| vault.server.extraInitContainers[0].args[0] | string | `"set -eux\nARCH=$(uname -m)\ncase \"$ARCH\" in x86_64)\nJQ_URL=\"https://github.com/jqlang/jq/releases/download/jq-1.7.1/jq-linux-amd64\"\n;;\narmv8*|aarch64*)\n# Adjust if your ARM binary has a different filename in the release\nJQ_URL=\"https://github.com/jqlang/jq/releases/download/jq-1.7.1/jq-linux-arm64\"\n;;\n*)\necho \"Unsupported architecture: $ARCH\"\nexit 1\n;;\nesac\n\nwget -O /vault/bin/jq \"$JQ_URL\"\nchmod +x /vault/bin/jq\n"` |  |
| vault.server.extraInitContainers[0].command[0] | string | `"/bin/sh"` |  |
| vault.server.extraInitContainers[0].command[1] | string | `"-c"` |  |
| vault.server.extraInitContainers[0].image | string | `"alpine:latest"` |  |
| vault.server.extraInitContainers[0].name | string | `"install-jq"` |  |
| vault.server.extraInitContainers[0].volumeMounts[0].mountPath | string | `"/vault/bin"` |  |
| vault.server.extraInitContainers[0].volumeMounts[0].name | string | `"vault-bin"` |  |
| vault.server.ha.enabled | bool | `false` |  |
| vault.server.ingress.enabled | bool | `true` |  |
| vault.server.ingress.hosts[0].host | string | `"vault.localhost"` |  |
| vault.server.ingress.hosts[0].paths[0] | string | `"/"` |  |
| vault.server.ingress.ingressClassName | string | `"nginx"` |  |
| vault.server.ingress.tls[0].hosts[0] | string | `"vault.localhost"` |  |
| vault.server.ingress.tls[0].secretName | string | `"my-tls-cert"` |  |
| vault.server.postStart[0] | string | `"/bin/sh"` |  |
| vault.server.postStart[1] | string | `"-c"` |  |
| vault.server.postStart[2] | string | `"MAX_RETRIES=15 \nRETRY_COUNT=0\necho \"trying...\" >> /vault/init-script-bootstrap.log 2>&1\n\nsh /vault/unseal-script.sh >> /vault/unseal-script.log 2>&1  \necho \"unseal vault complete...\" >> /vault/init-script-bootstrap.log 2>&1\n\nwhile [ $RETRY_COUNT -lt $MAX_RETRIES ]; do\n  echo \"loop started...\" >> /vault/init-script-bootstrap.log 2>&1\n  token=$(cat /vault/data/seal.json | /vault/bin/jq -r .root_token)\n  vault login \"$token\" >> /vault/init-script-bootstrap.log 2>&1\n\n  if vault auth list; then\n    sh /vault/init-script.sh >> /vault/init-script-bootstrap.log 2>&1\n    break\n  fi\n\n  RETRY_COUNT=$((RETRY_COUNT + 1))\n  sleep 1\ndone  \n"` |  |
| vault.server.standalone.enabled | bool | `true` |  |
| vault.server.volumeMounts[0].mountPath | string | `"/vault/bin"` |  |
| vault.server.volumeMounts[0].name | string | `"vault-bin"` |  |
| vault.server.volumeMounts[1].mountPath | string | `"/vault/init-script.sh"` |  |
| vault.server.volumeMounts[1].name | string | `"vault-init-script"` |  |
| vault.server.volumeMounts[1].subPath | string | `"init-script.sh"` |  |
| vault.server.volumeMounts[2].mountPath | string | `"/vault/unseal-script.sh"` |  |
| vault.server.volumeMounts[2].name | string | `"vault-unseal-script"` |  |
| vault.server.volumeMounts[2].subPath | string | `"unseal-script.sh"` |  |
| vault.server.volumes[0].emptyDir | object | `{}` |  |
| vault.server.volumes[0].name | string | `"vault-bin"` |  |
| vault.server.volumes[1].configMap.name | string | `"vault-init-script"` |  |
| vault.server.volumes[1].name | string | `"vault-init-script"` |  |
| vault.server.volumes[2].configMap.name | string | `"vault-unseal-script"` |  |
| vault.server.volumes[2].name | string | `"vault-unseal-script"` |  |
| vault.ui.enabled | bool | `true` |  |
| vault.ui.serviceType | string | `"ClusterIP"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
